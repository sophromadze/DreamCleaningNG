<div class="date-selector">
  <div class="date-selector-container" (click)="toggleDropdown($event)">
    <div class="date-display">
      {{ getDisplayDate() }}
    </div>
    <div class="calendar-icon">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
        <line x1="16" y1="2" x2="16" y2="6"></line>
        <line x1="8" y1="2" x2="8" y2="6"></line>
        <line x1="3" y1="10" x2="21" y2="10"></line>
      </svg>
    </div>
    
    <!-- Custom Calendar Dropdown -->
    <div class="calendar-dropdown" *ngIf="isDropdownOpen">
      <div class="calendar-header">
        <button class="nav-button" (click)="previousMonth(); $event.stopPropagation()">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="15,18 9,12 15,6"></polyline>
          </svg>
        </button>
        <div class="month-year">{{ getMonthYearString() }}</div>
        <button class="nav-button" (click)="nextMonth(); $event.stopPropagation()">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="9,18 15,12 9,6"></polyline>
          </svg>
        </button>
      </div>
      
      <div class="calendar-weekdays">
        <div class="weekday">Sun</div>
        <div class="weekday">Mon</div>
        <div class="weekday">Tue</div>
        <div class="weekday">Wed</div>
        <div class="weekday">Thu</div>
        <div class="weekday">Fri</div>
        <div class="weekday">Sat</div>
      </div>
      
      <div class="calendar-days">
        <div 
          *ngFor="let day of calendarDays" 
          class="calendar-day"
          [class.current-month]="day.isCurrentMonth"
          [class.selected]="day.isSelected"
          [class.disabled]="day.isDisabled"
          (click)="selectDate(day.date); $event.stopPropagation()">
          {{ day.date.getDate() }}
        </div>
      </div>
    </div>
  </div>
</div> 