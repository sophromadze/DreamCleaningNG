<div class="admin-container">
    <h1>Admin Panel</h1>
    
    <!-- Permissions Info Card -->
    <div class="permissions-card" *ngIf="userRole">
      <div class="permissions-header">
        <h6>Your Role: 
          <span class="role-badge" 
                [ngClass]="{
                  'superadmin': userRole === 'SuperAdmin',
                  'admin': userRole === 'Admin',
                  'moderator': userRole === 'Moderator'
                }">
            {{ userRole }}
          </span>
        </h6>
      </div>
      <div class="permissions-grid">
        <div class="permission-item" [class.active]="userPermissions?.permissions?.canView">
          <span class="icon">ğŸ‘ï¸</span>
          <span class="label">View</span>
        </div>
        <div class="permission-item" [class.active]="userPermissions?.permissions?.canCreate">
          <span class="icon">â•</span>
          <span class="label">Create</span>
        </div>
        <div class="permission-item" [class.active]="userPermissions?.permissions?.canUpdate">
          <span class="icon">âœï¸</span>
          <span class="label">Update</span>
        </div>
        <div class="permission-item" [class.active]="userPermissions?.permissions?.canDelete">
          <span class="icon">ğŸ—‘ï¸</span>
          <span class="label">Delete</span>
        </div>
        <div class="permission-item" [class.active]="userPermissions?.permissions?.canActivate">
          <span class="icon">âœ…</span>
          <span class="label">Activate</span>
        </div>
        <div class="permission-item" [class.active]="userPermissions?.permissions?.canDeactivate">
          <span class="icon">ğŸš«</span>
          <span class="label">Deactivate</span>
        </div>
      </div>
    </div>
    
    <!-- Tab Navigation -->
    <div class="admin-tabs">
      <button class="tab-btn" 
              [class.active]="activeTab === 'orders'"
              (click)="setActiveTab('orders')"
              *ngIf="userPermissions?.permissions?.canView">
        Orders
      </button>
      <button class="tab-btn" 
              [class.active]="activeTab === 'users'"
              (click)="setActiveTab('users')"
              *ngIf="userPermissions?.permissions?.canView">
        Users
      </button>
      <button class="tab-btn" 
              [class.active]="activeTab === 'promo-codes'"
              (click)="setActiveTab('promo-codes')"
              *ngIf="userPermissions?.permissions?.canView">
        Promo Codes
      </button>
      <button class="tab-btn" 
              [class.active]="activeTab === 'booking-services'"
              (click)="setActiveTab('booking-services')"
              *ngIf="userPermissions?.permissions?.canView">
        Booking Services
      </button>
      <button class="tab-btn" 
              [class.active]="activeTab === 'subscriptions'"
              (click)="setActiveTab('subscriptions')"
              *ngIf="userPermissions?.permissions?.canView">
        Subscriptions
      </button>
      <button class="tab-btn" 
              [class.active]="activeTab === 'gift-cards'"
              (click)="setActiveTab('gift-cards')"
              *ngIf="userPermissions?.permissions?.canView">
        Gift Cards
      </button>
    </div>
  
    <!-- Messages -->
    <div class="error-message" *ngIf="errorMessage">
      {{ errorMessage }}
    </div>
    <div class="success-message" *ngIf="successMessage">
      {{ successMessage }}
    </div>
  
    <!-- Tab Content -->
    <div class="tab-content">
      <ng-container [ngSwitch]="activeTab">
        <app-orders *ngSwitchCase="'orders'"></app-orders>
        <app-user-management *ngSwitchCase="'users'"></app-user-management>
        <app-promo-codes *ngSwitchCase="'promo-codes'"></app-promo-codes>
        <app-booking-services *ngSwitchCase="'booking-services'"></app-booking-services>
        <app-subscriptions *ngSwitchCase="'subscriptions'"></app-subscriptions>
        <app-admin-gift-cards *ngSwitchCase="'gift-cards'"></app-admin-gift-cards>
      </ng-container>
    </div>
  </div>